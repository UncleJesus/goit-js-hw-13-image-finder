{"version":3,"sources":["webpack:///./js/searchImage.js","webpack:///./index.js"],"names":["input","document","querySelector","list","page","keyWord","renderTimes","loadMore","screenY","documentElement","scrollHeight","searchImage","window","scrollTo","top","behavior","word","value","fetch","then","data","json","renderImage","innerHTML","body","insertAdjacentHTML","addEventListener","images","hits","forEach","el","webformatURL","likes","views","comments","downloads"],"mappings":"2LAAaA,EAAQC,SAASC,cAAc,kBACtCC,EAAOF,SAASC,cAAc,YAChCE,EAAO,EACPC,EAAU,GACVC,EAAc,EAEZC,EAAW,WACf,IAAMC,EAAUP,SAASQ,gBAAgBC,aACzCC,IAEAC,OAAOC,SAAS,CACdC,IAAKN,EACLO,SAAU,YAIDJ,EAAc,WACzB,IAAIK,EAAOhB,EAAMiB,MAEjB,GAAID,IAASX,EACXD,GAAQ,EAERc,MAAM,sEACkEF,EADnE,SACgFZ,EADhF,uDAGFe,MAAK,SAAAC,GAAI,OAAIA,EAAKC,UAClBF,MAAK,SAAAC,GAAI,OAAIE,EAAYF,UACvB,CACLjB,EAAKoB,UAAY,GAEjBL,MAAM,sEACkEF,EADnE,SACgFZ,EADhF,uDAGFe,MAAK,SAAAC,GAAI,OAAIA,EAAKC,UAClBF,MAAK,SAAAC,GAAI,OAAIE,EAAYF,MAEZnB,SAASQ,gBAAgBC,aAErB,IAAhBJ,IACFL,SAASuB,KAAKC,mBACZ,YADF,iEAIAxB,SAASC,cAAc,cAAcwB,iBAAiB,QAASnB,GAC/DD,GAAe,GAGjBD,EAAUW,IAIRM,EAAc,SAAUK,GAC5B,UAAIA,EAAOC,MAAMC,SAAQ,SAAAC,GACvB3B,EAAKoB,WAAL,+EACiDO,EAAGC,aADpD,yKAKkBD,EAAGE,MALrB,qJASkBF,EAAGG,MATrB,kJAakBH,EAAGI,SAbrB,yJAiBkBJ,EAAGK,UAjBrB,gECjDJnC,EAAM0B,iBAAiB,SAAUf,K","file":"main.3a2b2153a961d80a1fb5.js","sourcesContent":["export const input = document.querySelector('[name=\"query\"]');\nconst list = document.querySelector('.gallery');\nlet page = 1;\nlet keyWord = '';\nlet renderTimes = 1;\n\nconst loadMore = function () {\n  const screenY = document.documentElement.scrollHeight;\n  searchImage();\n\n  window.scrollTo({\n    top: screenY,\n    behavior: 'smooth',\n  });\n};\n\nexport const searchImage = function () {\n  let word = input.value;\n\n  if (word === keyWord) {\n    page += 1;\n\n    fetch(\n      `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${word}&page=${page}&per_page=12&key=18951897-f7110a11ebc58b866f93acf70`,\n    )\n      .then(data => data.json())\n      .then(data => renderImage(data));\n  } else {\n    list.innerHTML = '';\n\n    fetch(\n      `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${word}&page=${page}&per_page=12&key=18951897-f7110a11ebc58b866f93acf70`,\n    )\n      .then(data => data.json())\n      .then(data => renderImage(data));\n\n    const screenY = document.documentElement.scrollHeight;\n\n    if (renderTimes === 1) {\n      document.body.insertAdjacentHTML(\n        'beforeend',\n        `<button type=\"button\" class=\"load-more\">Load more...</button>`,\n      );\n      document.querySelector('.load-more').addEventListener('click', loadMore);\n      renderTimes += 1;\n    }\n\n    keyWord = word;\n  }\n};\n\nconst renderImage = function (images) {\n  [...images.hits].forEach(el => {\n    list.innerHTML += `<li class=\"photo-card\">\n            <img height=\"300px\" width=\"300px\" src=\"${el.webformatURL}\" alt=\"\" />\n            <div class=\"stats\">\n                <p class=\"stats-item\">\n                    <i class=\"material-icons\">thumb_up</i>\n                    ${el.likes}\n                </p>\n                <p class=\"stats-item\">\n                    <i class=\"material-icons\">visibility</i>\n                    ${el.views}\n                </p>\n                <p class=\"stats-item\">\n                    <i class=\"material-icons\">comment</i>\n                    ${el.comments}\n                </p>\n                <p class=\"stats-item\">\n                    <i class=\"material-icons\">cloud_download</i>\n                    ${el.downloads}\n                </p>\n            </div>\n        </li>`;\n  });\n};\n","import css from './css/style.css';\nimport { input } from './js/searchImage.js';\nimport { searchImage } from './js/searchImage.js';\n\ninput.addEventListener('change', searchImage);\n"],"sourceRoot":""}